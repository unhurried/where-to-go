{"version":3,"sources":["scripts/app-081767ac52.js"],"names":["angular","module","MainController","$scope","$modal","localStorageService","DTOptionsBuilder","DTColumnDefBuilder","CsvExporter","vm","this","dtOptions","newOptions","DTColumnDefs","newColumnDef","withOption","geocode","name","callback","geocoder","google","maps","Geocoder","address","results","status","latitude","geometry","location","lat","longitude","lng","home","get","homeForm","$watch","set","showHomeForm","homeModalInstance","open","templateUrl","scope","geocodeHome","result","$apply","registerHome","close","placeMap","deletePlace","id","placeModalInstance","recalculate","origin","LatLng","targetList","forEach","place","push","service","DistanceMatrixService","getDistanceMatrix","origins","destinations","travelMode","TravelMode","DRIVING","avoidHighways","avoidTolls","response","DistanceMatrixStatus","OK","i","element","rows","elements","distance","value","duration","exportPlaceList","map","center","zoom","showPlaceForm","placeForm","copy","rendered","then","gmap","placeFormMap","control","getGMap","event","trigger","marker","geocodePlace","createOrUpdatePlace","UUIDjs","create","toString","style","display","toggle","setMarker","eventName","args","latLng","$inject","controller","$window","object","keys","content","join","properties","row","key","index","blob","Blob","type","navigator","msSaveBlob","link","document","getElementById","createElement","setAttribute","URL","createObjectURL","click","runBlock","$log","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","controllerAs","otherwise","config","constant","malarkey","moment","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-081767ac52.js","sourcesContent":["(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('whereToGo', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ui.bootstrap', 'toastr', 'LocalStorageModule', 'datatables', 'uiGmapgoogle-maps', 'datatables']);\r\n\r\n})();\r\n\n(function() {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('whereToGo')\r\n\t\t.controller('MainController', MainController);\r\n\r\n\t/** @ngInject */\r\n\tfunction MainController($scope, $modal, localStorageService, DTOptionsBuilder, DTColumnDefBuilder, CsvExporter) {\r\n\t\tvar vm = this;\r\n\r\n\t\t/* datatables */\r\n\r\n\t\tvm.dtOptions = DTOptionsBuilder.newOptions();\r\n\t\tvm.DTColumnDefs = [\r\n\t\t\tDTColumnDefBuilder.newColumnDef(2).withOption(\"sType\", \"num\"),\r\n\t\t\tDTColumnDefBuilder.newColumnDef(3).withOption(\"sType\", \"num\")\r\n\t\t];\r\n\r\n\t\t/* private */\r\n\r\n\t\tvm.geocode = function(name, callback) {\r\n\t\t\tif(name == null || name == \"\") {\r\n\t\t\t\tcallback({});\r\n\t\t\t}\r\n\r\n\t\t\tvar geocoder = new google.maps.Geocoder();\r\n\t\t\tgeocoder.geocode({'address': name}, function(results, status) {\r\n\t\t\t\tif(status == 'OK') {\r\n\t\t\t\t\tvar latitude = results[0].geometry.location.lat();\r\n\t\t\t\t\tvar longitude = results[0].geometry.location.lng();\r\n\t\t\t\t\tcallback({ \"latitude\": latitude, \"longitude\": longitude });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t/* home */\r\n\r\n\t\tvm.home = localStorageService.get('home');\r\n\t\tvm.home = vm.home || {};\r\n\t\tvm.homeForm = vm.home;\r\n\r\n\t\t$scope.$watch(function(){\r\n\t\t\treturn vm.home;\r\n\t\t}, function () {\r\n\t\t\tlocalStorageService.set('home', vm.home);\r\n\t\t}, true);\r\n\r\n\t\tvm.showHomeForm = function() {\r\n\t\t\tvm.homeModalInstance = $modal.open({\r\n\t\t\t\ttemplateUrl: \"homeForm\",\r\n\t\t\t\tscope: $scope\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tvm.geocodeHome = function() {\r\n\t\t\tvm.geocode(vm.homeForm.name, function(result) {\r\n\t\t\t\tvm.homeForm.latitude = result.latitude;\r\n\t\t\t\tvm.homeForm.longitude = result.longitude;\r\n\t\t\t\t$scope.$apply();\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tvm.registerHome = function() {\r\n\t\t\tvm.home.name = vm.homeForm.name;\r\n\t\t\tvm.home.latitude = vm.homeForm.latitude;\r\n\t\t\tvm.home.longitude = vm.homeForm.longitude;\r\n\t\t\tvm.homeModalInstance.close();\r\n\t\t};\r\n\r\n\t\t/* place */\r\n\r\n\t\tvm.placeMap = localStorageService.get('placeMap');\r\n\t\tvm.placeMap = vm.placeMap || {};\r\n\r\n\t\t$scope.$watch(function(){\r\n\t\t\treturn vm.placeMap;\r\n\t\t}, function () {\r\n\t\t\tlocalStorageService.set('placeMap', vm.placeMap);\r\n\t\t}, true);\r\n\r\n\t\tvm.deletePlace = function(id) {\r\n\t\t\tdelete vm.placeMap[id];\r\n\t\t\tvm.placeModalInstance.close();\r\n\t\t};\r\n\r\n\t\tvm.recalculate = function() {\r\n\t\t\tvar origin = new google.maps.LatLng(vm.home.latitude, vm.home.longitude);\r\n\t\t\tvar targetList = [];\r\n\t\t\tangular.forEach(vm.placeMap, function(place){\r\n\t\t\t\ttargetList.push(new google.maps.LatLng(place.latitude, place.longitude));\r\n\t\t\t});\r\n\r\n\t\t\tvar service = new google.maps.DistanceMatrixService();\r\n\t\t\tservice.getDistanceMatrix({\r\n\t\t\t\torigins: [origin],\r\n\t\t\t\tdestinations: targetList,\r\n\t\t\t\ttravelMode: google.maps.TravelMode.DRIVING,\r\n\t\t\t\tavoidHighways: false,\r\n\t\t\t\tavoidTolls: false\r\n\t\t\t}, function(response, status) {\r\n\t\t\t\tif (status == google.maps.DistanceMatrixStatus.OK) {\r\n\t\t\t\t\tvar i=0;\r\n\t\t\t\t\tangular.forEach(vm.placeMap, function(place){\r\n\t\t\t\t\t\tvar element = response.rows[0].elements[i];\r\n\t\t\t\t\t\tplace.distance = element.distance.value;\r\n\t\t\t\t\t\tplace.duration = element.duration.value;\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$scope.$apply();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tvm.exportPlaceList = function() {\r\n\t\t\tCsvExporter.export(vm.placeMap, ['id', 'category', 'name', 'memo']);\r\n\t\t}\r\n\r\n\t\t/* map */\r\n\r\n\t\tvm.map = { center: { latitude: vm.home.latitude, longitude: vm.home.longitude }, zoom: 10 };\r\n\r\n\t\t/* placeForm */\r\n\r\n\t\tvm.showPlaceForm = function(id) {\r\n\t\t\tif(id == null) {\r\n\t\t\t\tvm.placeForm = angular.copy(vm.home);\r\n\t\t\t} else {\r\n\t\t\t\tvm.placeForm = angular.copy(vm.placeMap[id]);\r\n\t\t\t}\r\n\r\n\t\t\tvm.placeModalInstance = $modal.open({\r\n\t\t\t\ttemplateUrl: \"placeForm\",\r\n\t\t\t\tscope: $scope\r\n\t\t\t});\r\n\r\n\t\t\tvm.placeModalInstance.rendered.then(function(){\r\n\t\t\t\tvar gmap = vm.placeFormMap.control.getGMap();\r\n\t\t\t\tgoogle.maps.event.trigger(gmap, \"resize\");\r\n\t\t\t\tvm.placeFormMap.center = { latitude: vm.placeForm.latitude, longitude: vm.placeForm.longitude };\r\n\t\t\t\tvm.placeFormMap.marker = vm.placeForm;\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tvm.geocodePlace = function() {\r\n\t\t\tvm.geocode(vm.placeForm.name, function(result) {\r\n\t\t\t\tvm.placeForm.latitude = result.latitude;\r\n\t\t\t\tvm.placeForm.longitude = result.longitude;\r\n\t\t\t\tvm.placeFormMap.center = { latitude: vm.placeForm.latitude, longitude: vm.placeForm.longitude };\r\n\t\t\t\t$scope.$apply();\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tvm.createOrUpdatePlace = function() {\r\n\t\t\tvar place = angular.copy(vm.placeForm);\r\n\t\t\tif(place.id == null) {\r\n\t\t\t\tplace.id = UUIDjs.create().toString();\r\n\t\t\t}\r\n\t\t\tvm.placeMap[place.id] = place;\r\n\t\t\tvm.placeForm = {};\r\n\t\t\tvm.placeModalInstance.close();\r\n\t\t};\r\n\r\n\t\t/* placeFormMap */\r\n\r\n\t\tvm.placeFormMap = {};\r\n\t\tvm.placeFormMap.center = { latitude: 0, longitude: 0 };\r\n\t\tvm.placeFormMap.marker = vm.placeForm;\r\n\t\tvm.placeFormMap.style = { \"display\": \"block\" };\r\n\t\tvm.placeFormMap.control = {};\r\n\r\n\t\tvm.placeFormMap.toggle = function() {\r\n\t\t\tif(vm.placeFormMap.style.display == \"none\") {\r\n\t\t\t\tvm.placeFormMap.style = { \"display\": \"block\"};\r\n\t\t\t} else {\r\n\t\t\t\tvm.placeFormMap.style = { \"display\": \"none\"};\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvm.placeFormMap.setMarker = function(maps, eventName, args) {\r\n\t\t\tvm.placeForm.latitude = args[0].latLng.lat();\r\n\t\t\tvm.placeForm.longitude = args[0].latLng.lng();\r\n\t\t\t$scope.$apply();\r\n\t\t};\r\n\t}\r\n})();\r\n\n(function() {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('whereToGo')\r\n\t\t.service('CsvExporter', CsvExporter);\r\n\r\n\t/** @ngInject */\r\n\tfunction CsvExporter($window) {\r\n\t\tthis.export = function(object, keys) {\r\n\r\n\t\t\t// Serialize a header.\r\n\t\t\tvar content = keys.join(',') + \"\\n\";\r\n\t\t\t// Serialize rows.\r\n\t\t\tangular.forEach(object, function(properties){\r\n\t\t\t\tvar row = '';\r\n\t\t\t\tangular.forEach(keys, function(key, index){\r\n\t\t\t\t\tif (index != 0) { row += ','; }\r\n\t\t\t\t\tif (properties[key]) { row += properties[key]; }\r\n\t\t\t\t});\r\n\t\t\t\tcontent += (row + \"\\n\");\r\n\t\t\t});\r\n\r\n\t\t\t// Convert text to blob object with Blob API.\r\n\t\t\tvar blob = new Blob([ content ], { \"type\" : \"text/csv\" });\r\n\r\n\t\t\t// For Internet Expolorer\r\n\t\t\tif ($window.navigator.msSaveBlob) { \r\n\t\t\t\t$window.navigator.msSaveBlob(blob, \"export.csv\"); \r\n\r\n\t\t\t// For other browsers\r\n\t\t\t} else {\r\n\t\t\t\tvar link = $window.document.getElementById(\"csv_exporter\");\r\n\r\n\t\t\t\tif (link == null) { \r\n\t\t\t\t\tlink = $window.document.createElement(\"a\");\r\n\t\t\t\t\tlink.setAttribute(\"id\", \"csv_exporter\");\r\n\t\t\t\t\tlink.setAttribute(\"style\", \"display:none;\");\r\n\t\t\t\t\tlink.setAttribute(\"download\", \"export.csv\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlink.setAttribute(\"href\", $window.URL.createObjectURL(blob));\r\n\t\t\t\tlink.click();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('whereToGo')\r\n    .run(runBlock);\r\n\r\n  /** @ngInject */\r\n  function runBlock($log) {\r\n\r\n    $log.debug('runBlock end');\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('whereToGo')\r\n    .config(routerConfig);\r\n\r\n  /** @ngInject */\r\n  function routerConfig($stateProvider, $urlRouterProvider) {\r\n    $stateProvider\r\n      .state('home', {\r\n        url: '/',\r\n        templateUrl: 'app/main/main.html',\r\n        controller: 'MainController',\r\n        controllerAs: 'main'\r\n      });\r\n\r\n    $urlRouterProvider.otherwise('/');\r\n  }\r\n\r\n})();\r\n\n/* global malarkey:false, moment:false */\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('whereToGo')\r\n    .constant('malarkey', malarkey)\r\n    .constant('moment', moment);\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('whereToGo')\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($logProvider, toastrConfig) {\r\n    // Enable log\r\n    $logProvider.debugEnabled(true);\r\n\r\n    // Set options third-party lib\r\n    toastrConfig.allowHtml = true;\r\n    toastrConfig.timeOut = 3000;\r\n    toastrConfig.positionClass = 'toast-top-right';\r\n    toastrConfig.preventDuplicates = true;\r\n    toastrConfig.progressBar = true;\r\n  }\r\n\r\n})();\r\n\nangular.module(\"whereToGo\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=\\\"container\\\"><h1>Where To Go</h1><div class=\\\"row\\\" style=\\\"margin:20px;\\\"><span ng-if=\\\"main.home.latitude != null && main.home.longitude != null\\\" class=\\\"label label-default\\\" style=\\\"margin-right:12px\\\">Home is regsterd</span> <input ng-if=\\\"main.home.latitude != null && main.home.longitude != null\\\" type=\\\"button\\\" value=\\\"Update\\\" class=\\\"btn btn-primary\\\" style=\\\"margin-right:12px\\\" ng-click=\\\"main.showHomeForm()\\\"> <input ng-if=\\\"main.home.latitude != null && main.home.longitude != null\\\" type=\\\"button\\\" value=\\\"Recalculate\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"main.recalculate()\\\"> <span ng-if=\\\"main.home.latitude == null || main.home.longitude == null\\\" class=\\\"label label-danger\\\" style=\\\"margin-right:12px\\\">Home is not regsterd</span> <input ng-if=\\\"main.home.latitude == null || main.home.longitude == null\\\" type=\\\"button\\\" value=\\\"Register\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"main.showHomeForm()\\\"> <input type=\\\"button\\\" value=\\\"Export\\\" class=\\\"btn btn-primary pull-right\\\" ng-click=\\\"main.exportPlaceList()\\\"> <input type=\\\"button\\\" value=\\\"New Place\\\" class=\\\"btn btn-primary pull-right\\\" style=\\\"margin-right:12px\\\" ng-click=\\\"main.showPlaceForm()\\\"></div><table datatable=\\\"ng\\\" dt-options=\\\"main.dtOptions\\\" dt-column-defs=\\\"main.DTColumnDefs\\\" class=\\\"table table-striped\\\"><thead><tr><th>Category</th><th>Name</th><th>Distance (km)</th><th>Duration (min)</th><th>Memo</th></tr></thead><tr ng-repeat=\\\"(id, place) in main.placeMap\\\" ng-click=\\\"main.showPlaceForm(place.id)\\\"><td>{{ place.category }}</td><td><a target=\\\"_blank\\\" href=\\\"{{ place.url }}\\\">{{ place.name }}</a></td><td>{{ (place.distance / 1000).toFixed(0) }}</td><td>{{ (place.duration / 60 ).toFixed(0) }}</td><td>{{ place.memo }}</td></tr></table><div style=\\\"margin-top:10px;\\\"><ui-gmap-google-map center=\\\"main.map.center\\\" zoom=\\\"main.map.zoom\\\" idkey=\\\"0\\\"><ui-gmap-marker ng-repeat=\\\"(id, place) in main.placeMap\\\" coords=\\\"{latitude:place.latitude, longitude:place.longitude}\\\" options=\\\"{text:place.name}\\\" events=\\\"marker.events\\\" idkey=\\\"place.id\\\"><ui-gmap-window show=\\\"true\\\">{{ place.name }}</ui-gmap-window></ui-gmap-marker></ui-gmap-google-map></div><script type=\\\"text/ng-template\\\" id=\\\"homeForm\\\"><div class=\\\"modal-body\\\"> <div style=\\\"margin: 20px;\\\"> <form class=\\\"form-horizontal\\\" ng-submit=\\\"main.registerHome()\\\"> <div class=\\\"form-group form-inline\\\"> <input type=\\\"text\\\" placeholder=\\\"name\\\" class=\\\"form-control\\\" style=\\\"width:250px;margin-right:12px;\\\" ng-model=\\\"main.homeForm.name\\\"> <input type=\\\"button\\\" value=\\\"Geocode\\\" class=\\\"btn\\\" ng-click=\\\"main.geocodeHome()\\\"> </div> <div class=\\\"form-group form-inline\\\"> <input type=\\\"text\\\" placeholder=\\\"latitude\\\" class=\\\"form-control\\\" style=\\\"width:120px;margin-right:12px;\\\" ng-model=\\\"main.homeForm.latitude\\\"> <input type=\\\"text\\\" placeholder=\\\"longitude\\\" class=\\\"form-control\\\" style=\\\"width:120px;margin-right:12px;\\\" ng-model=\\\"main.homeForm.longitude\\\"> </div> <div class=\\\"form-group\\\"> <input type=\\\"submit\\\" value=\\\"Register\\\" class=\\\"btn btn-primary\\\"> </div> </form> </div> </div></script><script type=\\\"text/ng-template\\\" id=\\\"placeForm\\\"><div class=\\\"modal-body\\\"> <div style=\\\"margin: 20px;\\\"> <form class=\\\"form-horizontal\\\" ng-submit=\\\"main.createOrUpdatePlace()\\\"> <div class=\\\"form-group form-inline\\\"> <input type=\\\"text\\\" placeholder=\\\"category\\\" class=\\\"form-control\\\" style=\\\"width:120px;margin-right:12px;\\\" ng-model=\\\"main.placeForm.category\\\"> <input type=\\\"text\\\" placeholder=\\\"name\\\" class=\\\"form-control\\\" style=\\\"width:200px;margin-right:12px;\\\" ng-model=\\\"main.placeForm.name\\\"> <input type=\\\"button\\\" value=\\\"Geocode\\\" class=\\\"btn\\\" ng-click=\\\"main.geocodePlace()\\\"> </div> <div class=\\\"form-group form-inline\\\"> <input type=\\\"text\\\" placeholder=\\\"latitude\\\" class=\\\"form-control\\\" style=\\\"width:120px;margin-right:12px;\\\" ng-model=\\\"main.placeForm.latitude\\\"> <input type=\\\"text\\\" placeholder=\\\"longitude\\\" class=\\\"form-control\\\" style=\\\"width:120px;margin-right:12px;\\\" ng-model=\\\"main.placeForm.longitude\\\"> <input type=\\\"button\\\" value=\\\"Toggle Map\\\" class=\\\"btn\\\" ng-click=\\\"main.placeFormMap.toggle()\\\"> </div> <div id=\\\"mapChooser\\\" class=\\\"form-group\\\" ng-style=\\\"main.placeFormMap.style\\\" > <ui-gmap-google-map pan=\\\"true\\\" center=\\\"main.placeFormMap.center\\\" zoom=\\\"12\\\" idKey=\\\"100\\\" events=\\\"{dblclick:main.placeFormMap.setMarker}\\\" control=\\\"main.placeFormMap.control\\\" options=\\\"{disableDoubleClickZoom:true}\\\"> <ui-gmap-marker coords=\\\"main.placeFormMap.marker\\\" idkey=\\\"2\\\"></ui-gmap-marker> </ui-gmap-google-map> </div> <div class=\\\"form-group\\\"> <input type=\\\"text\\\" placeholder=\\\"URL\\\" class=\\\"form-control\\\" style=\\\"width:450px;\\\" ng-model=\\\"main.placeForm.url\\\"> </div> <div class=\\\"form-group\\\"> <textarea placeholder=\\\"memo\\\" class=\\\"form-control\\\" style=\\\"width:450px\\\" ng-model=\\\"main.placeForm.memo\\\"></textarea> </div> <div class=\\\"form-group\\\"> <input type=\\\"hidden\\\" value=\\\"{{ main.placeForm.id }}\\\"> <input ng-if=\\\"main.placeForm.id == null\\\" type=\\\"submit\\\" value=\\\"Add\\\" class=\\\"btn btn-primary\\\"> <input ng-if=\\\"main.placeForm.id != null\\\" type=\\\"submit\\\" value=\\\"Update\\\" class=\\\"btn btn-primary\\\" style=\\\"margin-right:12px;\\\"> <input ng-if=\\\"main.placeForm.id != null\\\" ng-click=\\\"main.deletePlace(main.placeForm.id)\\\" type=\\\"button\\\" value=\\\"Delete\\\" class=\\\"btn btn-danger\\\"> </div> </form> </div> </div></script></div>\");}]);"],"sourceRoot":"/source/"}